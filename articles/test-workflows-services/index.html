<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-articles/test-workflows-services" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Test Workflows - Services | Testkube Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.testkube.io/articles/test-workflows-services"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Test Workflows - Services | Testkube Documentation"><meta data-rh="true" name="description" content="Often if your use-case is more complex, you may need additional services for the Tests you are running. Common use cases are:"><meta data-rh="true" property="og:description" content="Often if your use-case is more complex, you may need additional services for the Tests you are running. Common use cases are:"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.testkube.io/articles/test-workflows-services"><link data-rh="true" rel="alternate" href="https://docs.testkube.io/articles/test-workflows-services" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.testkube.io/articles/test-workflows-services" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QRREOKFLDE-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G7HWN1EDK5"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-G7HWN1EDK5",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PQK4DKN",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>






<script src="https://app.usercentrics.eu/browser-ui/latest/loader.js" id="usercentrics-cmp" data-settings-id="WQ2gSqnsK" async></script><link rel="stylesheet" href="/assets/css/styles.a442acff.css">
<link rel="preload" href="/assets/js/runtime~main.5f64484c.js" as="script">
<link rel="preload" href="/assets/js/main.bae9e2b0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PQK4DKN" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.large.bright.svg" alt="Testkube" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.large.svg" alt="Testkube" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><iframe src="https://ghbtns.com/github-btn.html?user=kubeshop&repo=testkube&type=star&count=true&color=dark" style="margin-top: 6px" frameborder="0" scrolling="0" width="110" height="20" title="GitHub"></iframe></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="join-testkube-pro" class="announcement_G2Dx" style="--announcementBar-color:#fff;--announcementBar-background:#8951ff" aria-disabled="false"><div class="announcementContent_Ob_N"><strong>New to Testkube?</strong> Unleash the power of cloud native testing in Kubernetes with Testkube. <a id="sign_cloud_docs" href="https://app.testkube.io/?utm_source=docs" target="_blank">Get Started ></a></div><button class="announcementClose__w7d">Ã—</button></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/articles/install/overview">Installing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/articles/test-workflows">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/articles/test-workflows">Test Workflows (beta)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows">Test Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-creating">Creating Test Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflow-templates">Test Workflow Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-examples-basics">Test Workflows Examples - Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-examples-configuration">Test Workflows Examples - Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-expressions">Test Workflows - Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-examples-templates">Test Workflows Examples - Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-content">Test Workflows - Content</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-test-suites">Test Workflows - Test Suites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-parallel">Test Workflows - Parallel Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/articles/test-workflows-services">Test Workflows - Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflows-matrix-and-sharding">Test Workflows - Matrix and Sharding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-workflow-migration">Migrating Tests, Test Suites and Executors to Test Workflows and Test Workflow Templates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/articles/creating-tests">Tests</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/articles/creating-test-suites">Test Suites</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/articles/testkube-dashboard">Testkube Dashboard</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testkube Dashboard&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/adding-tests-secrets">Secret Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/scheduling-tests">Scheduling Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-triggers">Triggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/webhooks">Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-sources">Sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/test-executions">Test, Test Suite and Test Workflow Execution CRDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/templates">Templates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/articles/oauth-cli">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/test-types">Test Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;Test Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/testkube-pro/articles/intro">Testkube Pro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/testkube-pro-on-prem/articles/testkube-pro-on-prem">Testkube Pro On-Prem</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/testkube-oss">Testkube Core Open Source</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/articles/helm-chart">Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/common-issues">Common Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/deprecations">Deprecations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/articles/contributing">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/articles/testkube-licensing-FAQ">FAQs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Test Workflows (beta)</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Test Workflows - Services</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Test Workflows - Services</h1><p>Often if your use-case is more complex, you may need additional services for the Tests you are running. Common use cases are:</p><ul><li>Database, i.e. <a href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener noreferrer"><strong>MongoDB</strong></a> or <a href="https://hub.docker.com/r/bitnami/postgresql" target="_blank" rel="noopener noreferrer"><strong>PostgreSQL</strong></a></li><li>Workers, i.e. <a href="https://hub.docker.com/r/justb4/jmeter" target="_blank" rel="noopener noreferrer"><strong>remote JMeter workers</strong></a> or <a href="https://hub.docker.com/r/selenium/standalone-firefox" target="_blank" rel="noopener noreferrer"><strong>Selenium Grid&#x27;s remote browsers</strong></a></li><li>Service under test, i.e. your API to run E2E tests against it</li></ul><p>Testkube allows you to run such services for the Test Workflow, communicate with them and debug smoothly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How it works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works">â€‹</a></h2><p>When you define the service, the Test Workflow is creating a new pod and any other require resources for each of instances,
read its status and logs, and provides its information (like IP) for use in further steps. After the service is no longer needed, it&#x27;s cleaned up.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>As the services are started in a separate pod, they don&#x27;t share the file system with the Test Workflow execution.
There are multiple ways to share data with them - either using <a href="#providing-content"><strong>one of techniques described below</strong></a>, or advanced Kubernetes&#x27; native ways like <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes" target="_blank" rel="noopener noreferrer"><strong>ReadWriteMany volumes</strong></a>. </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="syntax">Syntax<a href="#syntax" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">â€‹</a></h2><p>To add some services, you need to specify the <code>services</code> clause.
It can be either directly on the <code>spec</code> level (to be available for the whole execution), or on specific step (to isolate it).</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You may want to use services in <a href="/articles/test-workflows-examples-templates">Test Workflow Template</a>, to reuse them for multiple tests.</p></div></div><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">YAML</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Log Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> example</span><span class="token punctuation">-</span><span class="token plain">workflow</span><span class="token punctuation">-</span><span class="token plain">with</span><span class="token punctuation">-</span><span class="token plain">mongo</span><span class="token punctuation">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">db</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">timeout</span><span class="token punctuation">:</span><span class="token plain"> 5m</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> mongo</span><span class="token punctuation">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">env</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> MONGO_INITDB_ROOT_USERNAME</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> MONGO_INITDB_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> p4ssw0rd</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">tcpSocket</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">27017</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Check if it is running</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">run</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> mongo</span><span class="token punctuation">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">|</span><span class="token scalar string" style="color:#AAD94C"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">        echo Connecting to MongoDB at {{ services.db.0.ip }}</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">        mongosh -u root -p p4ssw0rd {{ services.db.0.ip }} --eval &#x27;db.serverStatus().localTime&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><img loading="lazy" alt="example-workflow-with-mongo-service workflow" src="/assets/images/example-workflow-with-mongo-service-8a56a7c36ff2e2f4ddf708281523aa61.png" width="2162" height="2398" class="img_ev3q"></p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-the-services">Connecting to the services<a href="#connecting-to-the-services" class="hash-link" aria-label="Direct link to Connecting to the services" title="Direct link to Connecting to the services">â€‹</a></h3><p>To connect to create services, you can simply use <code>services.&lt;SVC_NAME&gt;.&lt;INDEX&gt;.ip</code> expression in the place you need its address (i.e. environment variable, or shell command).</p><ul><li><code>services.db.0.ip</code> will return <code>string</code> - IP of the 1st instance of the <code>db</code> service</li><li><code>services.db.*.ip</code> will return <code>[]string</code> - list of IPs of all the <code>db</code> service instances</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-configuration">Basic configuration<a href="#basic-configuration" class="hash-link" aria-label="Direct link to Basic configuration" title="Direct link to Basic configuration">â€‹</a></h3><p>The service allows similar fields as the <code>run</code> command, i.e.:</p><ul><li><code>image</code>, <code>env</code>, <code>volumeMounts</code>, <code>resources</code> - to configure the container</li><li><code>command</code>, <code>args</code> - to specify command to run</li><li><code>shell</code> - to specify script to run (instead of <code>command</code>/<code>args</code>)</li><li><code>description</code> that may provide human-readable information for each instance separately</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-logs">Fetching logs<a href="#fetching-logs" class="hash-link" aria-label="Direct link to Fetching logs" title="Direct link to Fetching logs">â€‹</a></h3><p>By default we are not saving the logs for the services. If you would like to fetch the logs, you can use <code>logs</code> property.
It takes an expression condition, so you can dynamically choose whether it should be saved or not. Often you will use:</p><ul><li><code>logs: always</code> to always store the logs</li><li><code>logs: failed</code> to store the logs only if the Test Workflow has failed</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-configuration">Pod configuration<a href="#pod-configuration" class="hash-link" aria-label="Direct link to Pod configuration" title="Direct link to Pod configuration">â€‹</a></h3><p>The service is started as a separate job/pod, so you can configure <code>pod</code> and <code>job</code> similarly to general Test Workflow.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lifecycle">Lifecycle<a href="#lifecycle" class="hash-link" aria-label="Direct link to Lifecycle" title="Direct link to Lifecycle">â€‹</a></h3><p>You can apply <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-tcp-liveness-probe" target="_blank" rel="noopener noreferrer"><strong>readinessProbe</strong></a> to ensure that the service will be available for the next step.</p><p>The Test Workflow won&#x27;t continue until the container will be ready then. To ensure that the execution won&#x27;t get stuck, you can add <code>timeout</code> property (like <code>timeout: 1h30m20s</code>),
so it will fail if the service is not ready after that time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="matrix-and-sharding">Matrix and sharding<a href="#matrix-and-sharding" class="hash-link" aria-label="Direct link to Matrix and sharding" title="Direct link to Matrix and sharding">â€‹</a></h3><p>The services are meant to support matrix and sharding, to run multiple replicas and/or distribute the load across multiple instances.
It is supported by regular matrix/sharding properties (<code>matrix</code>, <code>shards</code>, <code>count</code> and <code>maxCount</code>).</p><p>You can read more about it in the general <a href="/articles/test-workflows-matrix-and-sharding"><strong>Matrix and Sharding</strong></a> documentation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="providing-content">Providing content<a href="#providing-content" class="hash-link" aria-label="Direct link to Providing content" title="Direct link to Providing content">â€‹</a></h2><p>There are multiple ways to provide the files inside the services.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>As the services are started in a separate pod, they don&#x27;t share the file system with the Test Workflow execution.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="copying-content-inside">Copying content inside<a href="#copying-content-inside" class="hash-link" aria-label="Direct link to Copying content inside" title="Direct link to Copying content inside">â€‹</a></h3><p>It is possible to copy the files from the original Test Workflow into the services.
As an example, you may want to fetch the repository and install the dependencies on the original TestWorkflow,
and then distribute it to the services.</p><p>To do so, you can use <code>transfer</code> property. It takes list of files to transfer:</p><ul><li><code>{ from: &quot;/data/repo/build&quot; }</code> will copy the <code>/data/repo/build</code> directory from execution&#x27;s Pod into <code>/data/repo/build</code> in the service&#x27;s Pod</li><li><code>{ from: &quot;/data/repo/build&quot;, to: &quot;/out&quot; }</code> will copy the <code>/data/repo/build</code> directory from execution&#x27;s Pod into <code>/out</code> in the service&#x27;s Pod</li><li><code>{ from: &quot;/data/repo/build&quot;, to: &quot;/out&quot;, &quot;files&quot;: [&quot;**/*.json&quot;] }</code> will copy only JSON files from the <code>/data/repo/build</code> directory from execution&#x27;s Pod into <code>/out</code> in the service&#x27;s Pod</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h4><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">YAML</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Log Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> example</span><span class="token punctuation">-</span><span class="token plain">workflow</span><span class="token punctuation">-</span><span class="token plain">with</span><span class="token punctuation">-</span><span class="token plain">building</span><span class="token punctuation">-</span><span class="token plain">app</span><span class="token punctuation">-</span><span class="token plain">and</span><span class="token punctuation">-</span><span class="token plain">files</span><span class="token punctuation">-</span><span class="token plain">transfer</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">git</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">uri</span><span class="token punctuation">:</span><span class="token plain"> https</span><span class="token punctuation">:</span><span class="token plain">//github.com/kubeshop/testkube</span><span class="token punctuation">-</span><span class="token plain">docs.git</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">revision</span><span class="token punctuation">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">container</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">workingDir</span><span class="token punctuation">:</span><span class="token plain"> /data/repo</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">resources</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">requests</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">cpu</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">memory</span><span class="token punctuation">:</span><span class="token plain"> 2Gi</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Build the application</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">run</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> node</span><span class="token punctuation">:</span><span class="token number" style="color:#D2A6FF">21</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> npm i </span><span class="token important">&amp;&amp;</span><span class="token plain"> npm run build</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Test the application</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">server</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">timeout</span><span class="token punctuation">:</span><span class="token plain"> 1m</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">transfer</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">from</span><span class="token punctuation">:</span><span class="token plain"> /data/repo/build</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">to</span><span class="token punctuation">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> nginx</span><span class="token punctuation">:</span><span class="token plain">1.25.4</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">logs</span><span class="token punctuation">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">httpGet</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">            </span><span class="token key atrule" style="color:#FF8F40">path</span><span class="token punctuation">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">            </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> wget </span><span class="token punctuation">-</span><span class="token plain">q </span><span class="token punctuation">-</span><span class="token plain">O </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"> services.server.0.ip </span><span class="token punctuation">}</span><span class="token punctuation">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><img loading="lazy" alt="example-workflow-with-building-app-and-files-transfer.png" src="/assets/images/example-workflow-with-building-app-and-files-transfer-93a77c4024ac7e8da335d64882a5e220.png" width="1920" height="2006" class="img_ev3q"></p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-content-or-a-git-repository">Static content or a Git repository<a href="#static-content-or-a-git-repository" class="hash-link" aria-label="Direct link to Static content or a Git repository" title="Direct link to Static content or a Git repository">â€‹</a></h3><p>Services allow to provide the <code>content</code> property similar to the one directly in the Test Workflow. As an example, you may provide static configuration files to the service:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">YAML</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Log Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> example</span><span class="token punctuation">-</span><span class="token plain">workflow</span><span class="token punctuation">-</span><span class="token plain">with</span><span class="token punctuation">-</span><span class="token plain">nginx</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">http</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">timeout</span><span class="token punctuation">:</span><span class="token plain"> 5m</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">files</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">path</span><span class="token punctuation">:</span><span class="token plain"> /etc/nginx/nginx.conf</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">|</span><span class="token scalar string" style="color:#AAD94C"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">            events { worker_connections 1024; }</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">            http {</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">              server {</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">                listen 8888;</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">                location / { root /www; }</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">              }</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">            }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">path</span><span class="token punctuation">:</span><span class="token plain"> /www/index.html</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;foo-bar&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> nginx</span><span class="token punctuation">:</span><span class="token plain">1.25.4</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">httpGet</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">path</span><span class="token punctuation">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">8888</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> wget </span><span class="token punctuation">-</span><span class="token plain">q </span><span class="token punctuation">-</span><span class="token plain">O </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"> services.http.0.ip </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="token number" style="color:#D2A6FF">8888</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><img loading="lazy" alt="example-workflow-with-nginx.png" src="/assets/images/example-workflow-with-nginx-f141bda220274876c7d300b9a077aed9.png" width="2158" height="1896" class="img_ev3q"></p></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jmeter-with-distributed-remote-workers">JMeter with distributed Remote Workers<a href="#jmeter-with-distributed-remote-workers" class="hash-link" aria-label="Direct link to JMeter with distributed Remote Workers" title="Direct link to JMeter with distributed Remote Workers">â€‹</a></h3><p>You can easily run JMeter with distributed remote workers, that could be even spread evenly across all the Kubernetes nodes.</p><p>The example below:</p><ul><li>Read JMX configuration from Git repository (<code>spec.content.git</code>)</li><li>Start 5 remote workers (<code>spec.services.slave.count</code>)<ul><li>Distribute them evenly across nodes (<code>spec.services.slave.use[0]</code> - <code>distribute/evenly</code> template is setting common <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/" target="_blank" rel="noopener noreferrer"><code>pod.topologySpreadConstraints</code></a>)</li><li>Reserve 1/8 CPU and 128MB memory for each instance (<code>spec.services.slave.container.resources</code>)</li><li>Wait until they will accept connection at port 1099 (<code>spec.services.slave.readinessProbe</code>)</li></ul></li><li>Run JMeter controller against all the remote workers (<code>spec.services.steps[0].run</code>)<ul><li>It uses <code>{{ services.slave.*.ip }}</code> as an argument - <code>services.slave.*.ip</code> will return list of IPs, and they will be joined by comma (<code>,</code>) to convert to text</li></ul></li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> distributed</span><span class="token punctuation">-</span><span class="token plain">jmeter</span><span class="token punctuation">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">git</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">uri</span><span class="token punctuation">:</span><span class="token plain"> https</span><span class="token punctuation">:</span><span class="token plain">//github.com/kubeshop/testkube</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">revision</span><span class="token punctuation">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">paths</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> test/jmeter/executor</span><span class="token punctuation">-</span><span class="token plain">tests/jmeter</span><span class="token punctuation">-</span><span class="token plain">executor</span><span class="token punctuation">-</span><span class="token plain">smoke.jmx</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">container</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">workingDir</span><span class="token punctuation">:</span><span class="token plain"> /data/repo/test/jmeter/executor</span><span class="token punctuation">-</span><span class="token plain">tests</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">slave</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">use</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> distribute/evenly</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">count</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">timeout</span><span class="token punctuation">:</span><span class="token plain"> 30s</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> justb4/jmeter</span><span class="token punctuation">:</span><span class="token number" style="color:#D2A6FF">5.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">command</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> jmeter</span><span class="token punctuation">-</span><span class="token plain">server</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">-</span><span class="token plain">Dserver.rmi.localport=60000</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">-</span><span class="token plain">Dserver_port=1099</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">-</span><span class="token plain">Jserver.rmi.ssl.disable=true</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">container</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">resources</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">requests</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">            </span><span class="token key atrule" style="color:#FF8F40">cpu</span><span class="token punctuation">:</span><span class="token plain"> 128m</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">            </span><span class="token key atrule" style="color:#FF8F40">memory</span><span class="token punctuation">:</span><span class="token plain"> 128Mi</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">tcpSocket</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1099</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Run tests</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">run</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> justb4/jmeter</span><span class="token punctuation">:</span><span class="token number" style="color:#D2A6FF">5.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">|</span><span class="token scalar string" style="color:#AAD94C"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">        jmeter -n \</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          -X -Jserver.rmi.ssl.disable=true -Jclient.rmi.localport=7000 \</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          -R {{ services.slave.*.ip }} \</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          -t jmeter-executor-smoke.jmx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="selenium-tests-with-multiple-remote-browsers">Selenium tests with multiple remote browsers<a href="#selenium-tests-with-multiple-remote-browsers" class="hash-link" aria-label="Direct link to Selenium tests with multiple remote browsers" title="Direct link to Selenium tests with multiple remote browsers">â€‹</a></h3><p>You can initialize multiple remote browsers, and then <a href="/articles/test-workflows-parallel"><strong>run tests against them in parallel</strong></a>.</p><p>The example below:</p><ul><li>Clone the test code (<code>content</code>)</li><li>Start 3 instances of <code>remote</code> service (<code>services.remote</code>)<ul><li>Each instance have different browser used (<code>image</code> of <code>services.remote.matrix.browser</code> passed to <code>services.remote.image</code>)</li><li>Each instance expose the driver name in their description (<code>driver</code> of <code>services.remote.matrix.browser</code> passed to <code>services.remote.description</code>)</li><li>Wait until the browser is ready to connect (<code>services.remote.readinessProbe</code>)</li><li>Always save the browser logs (<code>services.remote.logs</code>)</li></ul></li><li>Run tests in parallel for each of the browser (<code>steps[0].parallel</code>)<ul><li>Run for each <code>remote</code> service instance (<code>steps[0].parallel.matrix.browser</code>)</li><li>Transfer the code from the repository to the parallel step (<code>steps[0].parallel.transfer</code>)</li><li>Sets the environment variables based on the service instance&#x27;s description and IP (<code>steps[0].parallel.container.env</code>)</li><li>Run tests (<code>steps[0].parallel.shell</code>)</li></ul></li></ul><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">YAML</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Log Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> selenium</span><span class="token punctuation">-</span><span class="token plain">remote</span><span class="token punctuation">-</span><span class="token plain">browsers</span><span class="token punctuation">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">git</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">uri</span><span class="token punctuation">:</span><span class="token plain"> https</span><span class="token punctuation">:</span><span class="token plain">//github.com/cerebro1/selenium</span><span class="token punctuation">-</span><span class="token plain">testkube.git</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">paths</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> selenium</span><span class="token punctuation">-</span><span class="token plain">java</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">remote</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">matrix</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">browser</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">driver</span><span class="token punctuation">:</span><span class="token plain"> chrome</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> selenium/standalone</span><span class="token punctuation">-</span><span class="token plain">chrome</span><span class="token punctuation">:</span><span class="token plain">4.21.0</span><span class="token punctuation">-</span><span class="token number" style="color:#D2A6FF">20240517</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">driver</span><span class="token punctuation">:</span><span class="token plain"> edge</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> selenium/standalone</span><span class="token punctuation">-</span><span class="token plain">edge</span><span class="token punctuation">:</span><span class="token plain">4.21.0</span><span class="token punctuation">-</span><span class="token number" style="color:#D2A6FF">20240517</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">driver</span><span class="token punctuation">:</span><span class="token plain"> firefox</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> selenium/standalone</span><span class="token punctuation">-</span><span class="token plain">firefox</span><span class="token punctuation">:</span><span class="token plain">4.21.0</span><span class="token punctuation">-</span><span class="token number" style="color:#D2A6FF">20240517</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">logs</span><span class="token punctuation">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;{{ matrix.browser.image }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">description</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;{{ matrix.browser.driver }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">httpGet</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">path</span><span class="token punctuation">:</span><span class="token plain"> /wd/hub/status</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">4444</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Run cross</span><span class="token punctuation">-</span><span class="token plain">browser tests</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">parallel</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">matrix</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">browser</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&#x27;services.remote&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">transfer</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">from</span><span class="token punctuation">:</span><span class="token plain"> /data/repo/selenium</span><span class="token punctuation">-</span><span class="token plain">java</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">container</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">workingDir</span><span class="token punctuation">:</span><span class="token plain"> /data/repo/selenium</span><span class="token punctuation">-</span><span class="token plain">java</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> maven</span><span class="token punctuation">:</span><span class="token plain">3.9.6</span><span class="token punctuation">-</span><span class="token plain">eclipse</span><span class="token punctuation">-</span><span class="token plain">temurin</span><span class="token punctuation">-</span><span class="token plain">22</span><span class="token punctuation">-</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">env</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> SELENIUM_BROWSER</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&#x27;{{ matrix.browser.description }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> SELENIUM_HOST</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&#x27;{{ matrix.browser.ip }}:4444&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> mvn test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><img loading="lazy" alt="selenium-remote-browsers-example.png" src="/assets/images/selenium-remote-browsers-example-be61e97cbc7c21d971eb1e2ab3d9541a.png" width="2156" height="2134" class="img_ev3q"></p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-database-for-integration-tests">Run database for integration tests<a href="#run-database-for-integration-tests" class="hash-link" aria-label="Direct link to Run database for integration tests" title="Direct link to Run database for integration tests">â€‹</a></h3><p>To test the application, you often want to check if it works well with the external components too.
As an example, unit tests won&#x27;t cover if there is a syntax error in SQL query, or there are deadlocks in the process, unless you will run it against actual database.</p><p>The example below:</p><ul><li>Start single MongoDB instance as <code>db</code> service (<code>services.db</code>)<ul><li>Configure initial credentials to <code>root</code>/<code>p4ssw0rd</code> (<code>services.db.env</code>)</li><li>Wait until the MongoDB accept connections (<code>services.db.readinessProbe</code>)</li></ul></li><li>Run integration tests (<code>steps[0].run</code>)<ul><li>Configure <code>API_MONGO_DSN</code> environment variable to point to MongoDB (<code>steps[0].run.env[0]</code>)</li><li>Install local dependencies and run tests (<code>steps[0].run.shell</code>)</li></ul></li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> testworkflows.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> TestWorkflow</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> database</span><span class="token punctuation">-</span><span class="token plain">service</span><span class="token punctuation">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">content</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">git</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">uri</span><span class="token punctuation">:</span><span class="token plain"> https</span><span class="token punctuation">:</span><span class="token plain">//github.com/kubeshop/testkube.git</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">revision</span><span class="token punctuation">:</span><span class="token plain"> develop</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">services</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">db</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> mongo</span><span class="token punctuation">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">env</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> MONGO_INITDB_ROOT_USERNAME</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> MONGO_INITDB_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> p4ssw0rd</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">readinessProbe</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">tcpSocket</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">port</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">27017</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">periodSeconds</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">container</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token key atrule" style="color:#FF8F40">workingDir</span><span class="token punctuation">:</span><span class="token plain"> /data/repo</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">steps</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> Run integration tests</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token key atrule" style="color:#FF8F40">run</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> golang</span><span class="token punctuation">:</span><span class="token plain">1.22.3</span><span class="token punctuation">-</span><span class="token plain">bookworm</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">env</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> API_MONGO_DSN</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          </span><span class="token key atrule" style="color:#FF8F40">value</span><span class="token punctuation">:</span><span class="token plain"> mongodb</span><span class="token punctuation">:</span><span class="token plain">//root</span><span class="token punctuation">:</span><span class="token plain">p4ssw0rd@</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain">services.db.0.ip</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="token number" style="color:#D2A6FF">27017</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">        </span><span class="token key atrule" style="color:#FF8F40">shell</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">|</span><span class="token scalar string" style="color:#AAD94C"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          apt-get update</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          apt-get install -y ca-certificates libssl3 git skopeo</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token scalar string" style="color:#AAD94C">          go install gotest.tools/gotestsum@v1.9.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">          INTEGRATION=y gotestsum </span><span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token plain">format short</span><span class="token punctuation">-</span><span class="token plain">verbose </span><span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token punctuation">-</span><span class="token plain">count 1 </span><span class="token punctuation">-</span><span class="token plain">run _Integration </span><span class="token punctuation">-</span><span class="token plain">cover ./pkg/repository/</span><span class="token punctuation">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kubeshop/testkube/tree/develop/docs/docs/articles/test-workflows-services.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/articles/test-workflows-parallel"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Test Workflows - Parallel Steps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/articles/test-workflows-matrix-and-sharding"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Test Workflows - Matrix and Sharding</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a></li><li><a href="#syntax" class="table-of-contents__link toc-highlight">Syntax</a><ul><li><a href="#connecting-to-the-services" class="table-of-contents__link toc-highlight">Connecting to the services</a></li><li><a href="#basic-configuration" class="table-of-contents__link toc-highlight">Basic configuration</a></li><li><a href="#fetching-logs" class="table-of-contents__link toc-highlight">Fetching logs</a></li><li><a href="#pod-configuration" class="table-of-contents__link toc-highlight">Pod configuration</a></li><li><a href="#lifecycle" class="table-of-contents__link toc-highlight">Lifecycle</a></li><li><a href="#matrix-and-sharding" class="table-of-contents__link toc-highlight">Matrix and sharding</a></li></ul></li><li><a href="#providing-content" class="table-of-contents__link toc-highlight">Providing content</a><ul><li><a href="#copying-content-inside" class="table-of-contents__link toc-highlight">Copying content inside</a></li><li><a href="#static-content-or-a-git-repository" class="table-of-contents__link toc-highlight">Static content or a Git repository</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#jmeter-with-distributed-remote-workers" class="table-of-contents__link toc-highlight">JMeter with distributed Remote Workers</a></li><li><a href="#selenium-tests-with-multiple-remote-browsers" class="table-of-contents__link toc-highlight">Selenium tests with multiple remote browsers</a></li><li><a href="#run-database-for-integration-tests" class="table-of-contents__link toc-highlight">Run database for integration tests</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://testkubeworkspace.slack.com/join/shared_invite/zt-2arhz5vmu-U2r3WZ69iPya5Fw0hMhRDg#/shared-invite/email" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Testkube_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/kubeshop/testkube" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Kubeshop.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5f64484c.js"></script>
<script src="/assets/js/main.bae9e2b0.js"></script>
</body>
</html>