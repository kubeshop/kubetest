# Reference for 'kubectl testkube` plugin

The TestKube kubectl plugin provides commands for installation, script-related tasks, code-completion, etc.

## `install` command

Installs TestKube in your active cluster.

```shell

Usage:
   install [flags]

Flags:
      --chart string       chart name (default "kubeshop/testkube")
      --name string        installation name (default "testkube")
      --namespace string   namespace where to install (default "testkube")
```

## `scripts` command

Show all available scripts and scripts executions commands

```shell

Usage:
   scripts [flags]
   scripts [command]

Available Commands:
  abort       (NOT IMPLEMENTED) Aborts execution of the script
  create      Create new script
  execution   Gets script execution details
  executions  List scripts executions
  list        Get all available scripts
  start       Starts new script

Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages

Use " scripts [command] --help" for more information about a command.
```

### `abort` sub-command

(NOT IMPLEMENTED) Aborts execution of the script

```shell
Usage:
   scripts abort [flags]

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```


### `create` sub-command

Create a new Script Custom Resource

```shell

Usage:
   scripts create [flags]

Flags:
  -f, --file string        script file - will be read from stdin if not specified
  -n, --name string        unique script name - mandatory
  -s, --namespace string   kubernetes namespace where script will be created (default "testkube")
  -t, --type string        script type (defaults to postman-collection) (default "postman/collection")

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```

### `execution` sub-command

Gets script execution details, you can change output format

```shell

Usage:
   scripts execution [flags]

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```

### `executions` sub-command

Getting list of execution for given script name or recent executions if there is no script name passed

```shell
Usage:
   scripts executions [flags]

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```


### `list` sub-command

Getting all available scripts from given namespace - if no namespace given "testkube" namespace is used

```shell
Usage:
   scripts list [flags]

Flags:
  -s, --namespace string   kubernetes namespace from where scripts should be listed (default "testkube")

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```

### `start` sub-command

Starts new script based on Script Custom Resource name, returns results to console

```shell
Usage:
   scripts start [flags]

Flags:
  -n, --name string            execution name, if empty will be autogenerated
  -s, --namespace string       scripts kubernetes namespace (default "testkube")
  -p, --param stringToString   execution envs passed to executor (default [])

Global Flags:
  -c, --client string        Client used for connecting to testkube API one of proxy|direct (default "proxy")
      --go-template string   in case of choosing output==go pass golang template (default "{{ . | printf \"%+v\"  }}")
  -o, --output string        output typoe one of raw|json|go  (default "raw")
  -v, --verbose              should I show additional debug messages
```

## `version` command

Shows TestKube version and build info

```shell
Usage:
   version
```

## `completion` command

Generate the autocompletion script for the specified shell.
See each sub-command's help for details on how to use the generated script.


```shell
Usage:
   completion [command]

Available Commands:
  bash        generate the autocompletion script for bash
  fish        generate the autocompletion script for fish
  powershell  generate the autocompletion script for powershell
  zsh         generate the autocompletion script for zsh

Use " completion [command] --help" for more information about a command.
```


### `bash` subcommand

Generate the autocompletion script for the bash shell.

This script depends on the 'bash-completion' package.
If it is not installed already, you can install it via your OS's package manager.

To load completions in your current shell session:

```shell
$ source <( completion bash)
```

To load completions for every new session, execute once:

#### Linux

```shell
  $  completion bash > /etc/bash_completion.d/
```

#### MacOS

```shell
  $  completion bash > /usr/local/etc/bash_completion.d/
```

You will need to start a new shell for this setup to take effect.

```shell
Usage:
   completion bash

Flags:
      --no-descriptions   disable completion descriptions
```
### `fish` sub-command

Generate the autocompletion script for the fish shell.

To load completions in your current shell session:

```shell
$  completion fish | source
```

To load completions for every new session, execute once:

```shell
$  completion fish > ~/.config/fish/completions/.fish
```

You will need to start a new shell for this setup to take effect.

```shell
Usage:
   completion fish [flags]

Flags:
      --no-descriptions   disable completion descriptions
```

### `powershell` sub-command


Generate the autocompletion script for powershell.

To load completions in your current shell session:

```shell
PS C:\>  completion powershell | Out-String | Invoke-Expression
```

To load completions for every new session, add the output of the above command
to your powershell profile.

```shell
Usage:
   completion powershell [flags]

Flags:
      --no-descriptions   disable completion descriptions
```

### `zsh` sub-command

Generate the autocompletion script for the zsh shell.

If shell completion is not already enabled in your environment you will need
to enable it.  You can execute the following once:

```shell
$ echo "autoload -U compinit; compinit" >> ~/.zshrc
```

To load completions for every new session, execute once:

#### Linux

```shell
$  completion zsh > "${fpath[1]}/_"
```

#### MacOS

```shell
$  completion zsh > /usr/local/share/zsh/site-functions/_
```

You will need to start a new shell for this setup to take effect.

```shell
Usage:
   completion zsh [flags]

Flags:
      --no-descriptions   disable completion descriptions
```


## `doc` command

Generate docs for kubectl testkube

```shell
Usage:
   doc [flags]

Flags:
  -h, --help   help for doc
```

## `help` command

Help provides help for any command in the application.
Simply type  help [path to command] for full details.

```shell
Usage:
   help [command]
```



